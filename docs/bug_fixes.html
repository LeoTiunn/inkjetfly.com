<html>
<head>
<title>Ultimate SEO URLs Upgrade Documentation</title>
<link rel="stylesheet" href="media/stylesheet.css" />
<meta http-equiv='Content-Type' content='text/html; charset=iso-8859-1'/>
<style>
body{
	background-attachment: fixed;
	background-image: url(http://forums.oscommerce.com/uploads/av-9196.jpg);
	background-repeat: no-repeat;
	background-position: right top;
}
</style>
</head>
<body>
<!-- 
This document is licensed under the Open Public License v1.0
Should this document fall in violation of this Public License 1.0 the scripts
contained within this package will also revert to Open Public License v1.0
and will no longer be considered GNU Public License and must be removed from 
public access.

http://koala.ilog.fr/jackaroo/OPL_1_0.TXT

Short story - don't fuck with install directions osCommerce team
-->
<div align="center">
    <h1>Ultimate SEO URLs Bug Fixes Documentation - by <a href="http://forums.oscommerce.com/index.php?showuser=9196" target="_blank">Chemo</a> </h1>
</div>
<p><b>Welcome to Ultimate SEO URLs contribution bug fixes documentation!</b></p>
<br/>
<p class="doc_headline">BUG FIXES</p>
<fieldset>
<legend><a NAME="fatal_error">Fatal error:</a> Call to a member function on a non-object in /path/to/html_output.php on line xx</legend>
<p>This error was reported on some installations  prior to v2.1b and most reported that the <b>STS contribution</b> was installed.</p>
<p><b>STEP #1 - Edit includes/application_top.php</b></p>
<blockquote>
<p><b>Find this code:</b></p>
<textarea cols="76" rows="3">
// Ultimate SEO URLs v2.1
    include_once(DIR_WS_CLASSES . 'seo.class.php');
    $seo_urls = new SEO_URL($languages_id);
</textarea>
<p><b>and change it to this:</b></p>
<textarea cols="76" rows="5">
// Ultimate SEO URLs v2.1
    include_once(DIR_WS_CLASSES . 'seo.class.php');
    if ( !is_object($seo_urls) ){
        $seo_urls = new SEO_URL($languages_id);
    } 
</textarea>
</blockquote>
<p><b>STEP #2 - Edit includes/functions/html_output.php</b></p>
<blockquote>
<p><b>Find this code:</b></p>
<textarea cols="76" rows="7">
////
// Ultimate SEO URLs v2.1
// The HTML href link wrapper function
  function tep_href_link($page = '', $parameters = '', $connection = 'NONSSL', $add_session_id = true, $search_engine_safe = true) {
        global $seo_urls;
        return $seo_urls->href_link($page, $parameters, $connection, $add_session_id);
  }
</textarea>
<p><b>and change it to this:</b></p>
<textarea cols="76" rows="14">
////
// Ultimate SEO URLs v2.1
// The HTML href link wrapper function
  function tep_href_link($page = '', $parameters = '', $connection = 'NONSSL', $add_session_id = true, $search_engine_safe = true) {
    global $seo_urls;        
        if ( !is_object($seo_urls) ){
            if ( !class_exists('SEO_URL') ){
                include_once(DIR_WS_CLASSES . 'seo.class.php');
            }
            global $languages_id;
            $seo_urls = new SEO_URL($languages_id);
        }
    return $seo_urls->href_link($page, $parameters, $connection, $add_session_id);
  }
</textarea>
</blockquote>
</fieldset>
<p><b>STEP #3 - Save both files and upload to the server</b></p>
<blockquote>
<p>Clear all cache files and verify error correction.</p>
</blockquote>
<br/>
<hr/>
<p>This documentation was generated by <a href="http://www.phpdoc.org">phpDocumentor v1.3.0RC3</a></p>
</body>
</html>
